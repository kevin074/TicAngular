"use strict";angular.module("newticApp",["firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"TicTacCtrl"}).when("/directive",{templateUrl:"views/directive.html",controller:"DirectiveCtrl"}).otherwise({redirectTo:"/"})}]),window.onload=function(){function a(){var a=Math.random();a>.5?(player2=!0,player1=!1):(player1=!0,player2=!1)}function b(){for(var a=0;a<j.length;a++)document.getElementById(j[a]).style.background=l[j[a]],document.getElementById(j[a]).style.border="none",document.getElementById(j[a]).style.color="blue"}var c=!1,d=!1;a();for(var e=["a","b","c","d","e","f","g","h","i"],f=[[],[],[]],g=0;3>g;g++)for(var h=0;3>h;h++)f[g][h]=e[g+h+2*g];var i=0;$("#restart").click(function(){$(".box").html(""),d=!1,c=!1,document.getElementById("youWin").style.zIndex="-1",a(),i=0,b()}),450*Math.sin(Math.PI/4),450*Math.cos(Math.PI/4);for(var j=["circle1","circle2","circle3","circle4","circle5","circle6","circle7","circle8"],k=[],g=0;g<document.getElementsByClassName("circle").length;g++)k+=g;for(var g=0;g<k.length;g++)document.getElementById(j[g]).style.top=300-300*Math.sin(1*Math.PI/4*g),document.getElementById(j[g]).style.left=300-300*Math.cos(1*Math.PI/4*g);var l={circle3:"rgba(255,129,129,1)",circle2:"rgba(214,129,255,1)",circle1:"rgba(129,134,255,1)",circle8:"rgba(129,210,255,1)",circle7:"rgba(129,255,248,1)",circle6:"rgba(129,255,146,1)",circle5:"rgba(222,255,129,1)",circle4:"rgba(255,172,129,1)"}},angular.module("newticApp").controller("TicTacCtrl",["$scope","angularFire",function(a,b){function c(){var c=e.path.m[0],d=e.path.m[0].charAt(e.path.m[0].length-1);e=new Firebase("https://kevintictactoe.firebaseio.com/"+c.replace("room"+d,"room"+(parseInt(d)+1))),b(e,a,"room").then(function(){a.room={ticTacToe:[["","",""],["","",""],["","",""]],turnCount:0,playerID:[]}})}function d(){function b(){document.getElementById("youWin").style.zIndex="99"}function c(d){for(var e=0,f=0;3>f;f++){for(var g=0;3>g;g++)a.room.ticTacToe[f][g]==d&&(e++,3==e&&b());e=0}for(var f=0;3>f;f++){for(var g=0;3>g;g++)a.room.ticTacToe[g][f]&&a.room.ticTacToe[g][f]==d&&(e++,3==e&&b());e=0}for(var f=0;3>f;)a.room.ticTacToe[f][f]&&a.room.ticTacToe[f][f]==d&&e++,f++;3==e?b():e=0;for(var f=2,h=0;f>=0;)a.room.ticTacToe[h][f]&&a.room.ticTacToe[h][f]==d&&e++,f--,h++;3==e?b():e=0,"X"==d&&c("O")}a.clickSquare=function(b,c){""==this.room.ticTacToe[b][c]&&(0==a.room.turnCount%2?(this.room.ticTacToe[b][c]="X",a.room.turnCount++):(this.room.ticTacToe[b][c]="O",a.room.turnCount++))},a.$watch("room.ticTacToe",function(){c("X")}),a.restart=function(){a.room.ticTacToe=[["","",""],["","",""],["","",""]],document.getElementById("youWin").style.zIndex="-2",a.room.turnCount=0}}var e=new Firebase("https://kevintictactoe.firebaseio.com/room2");a.room={},b(e,a,"room").then(function(){void 0==a.room.playerID?(a.room={ticTacToe:[["","",""],["","",""],["","",""]],turnCount:0,playerID:[]},a.room.playerID.push(Math.random())):1==a.room.playerID.length?(a.room.ticTacToe=[["","",""],["","",""],["","",""]],a.room.playerID.push(Math.random())):c(),d()})}]),angular.module("newticApp").controller("DirectiveCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);